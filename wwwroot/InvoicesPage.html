<!DOCTYPE html>
<html>
<head>
    <title>Invoices</title>
    <meta charset="utf-8">
    <script src="/sys/webcomponentsjs/webcomponents.js"></script>
    <!-- load Web Components polyfill for all browsers -->
    <link rel="import" href="/sys/starcounter.html">
    <!-- import Web Components needed for client-server sync -->
    <link rel="import" href="/sys/imported-template/imported-template.html">
    <link rel="import" href="/sys/puppet-redirect/src/puppet-redirect.html">
    <link rel="stylesheet" href="/style.css">
    <!-- load stylesheet -->
</head>

<body>
<!-- Create document template, which is to be bound to the JSON view-model -->
<template id="root" bind>
    <!-- start left pane of the UI -->
    <section class="list">
        <h3>Invoices</h3>

        <table>
            <thead>
            <tr>
                <th>#</th>
                <th>Name</th>
                <th>Total</th>
            </tr>
            </thead>

            <tbody>
            <template repeat="{{ Invoices }}">
                <!-- iterate over Invoices array elements to render the list of invoices -->
                <tr>
                    <td><a href="/invoicedemo/invoices/{{InvoiceNo}}">{{InvoiceNo}}</a></td>
                    <td class="readonlycell">{{Name}}</td>
                    <td class="readonlycell alignright">{{Total}}</td>
                </tr>
            </template>
            </tbody>
        </table>

        <a href="/">Add invoice</a>
    </section>
    <!-- end left pane of the UI -->

    <!-- start right pane of the UI -->
    <section class="invoice">
        <template bind="{{Invoice}}">
            <template is="imported-template" content="{{Html}}"></template>
        </template>
    </section>
    <!-- end right pane of the UI -->

    <link is="puppet-redirect" history url="{{RedirectUrl$}}">
</template>

<!-- Plug in client-server sync -->
<puppet-client ref="root"></puppet-client>
</body>
</html>
